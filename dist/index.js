#!/usr/bin/env node
"use strict";var b=Object.create;var y=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var j=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of w(t))!k.call(e,a)&&a!==n&&y(e,a,{get:()=>t[a],enumerable:!(r=f(t,a))||r.enumerable});return e};var i=(e,t,n)=>(n=e!=null?b(h(e)):{},j(t||!e||!e.__esModule?y(n,"default",{value:e,enumerable:!0}):n,e));var g=require("commander"),d=i(require("inquirer")),o=i(require("chalk")),c=i(require("ora")),s=require("execa"),p=i(require("fs-extra")),m=i(require("path")),u=new g.Command;u.name("create-tribo-app").description("Bootstrap a new Tribo Ecosystem Mini App").version("1.0.0").argument("[directory]","directory to create the app in").action(async e=>{console.log(o.default.bold.blue(`
\u{1F680} Welcome to Tribo Ecosystem SDK CLI
`));let t=await d.default.prompt([{type:"input",name:"projectName",message:"What is your project name?",default:e||"my-tribo-app",when:!e},{type:"list",name:"type",message:"How would you like to start?",choices:[{name:"Clone official Template (Next.js + SDK)",value:"template"},{name:"Install SDK only (tribo-kit-sdk)",value:"sdk-only"}]}]),n=e||t.projectName,r=m.default.resolve(process.cwd(),n);if(t.type==="template"){let a=(0,c.default)(`Cloning Tribo template into ${o.default.cyan(n)}...`).start();try{await(0,s.execa)("git",["clone","https://github.com/Ortegaa03/template_ecosystem_app.git",r]),await p.default.remove(m.default.join(r,".git")),a.succeed(o.default.green("Template cloned successfully!")),console.log(`
Next steps:`),console.log(o.default.cyan(`  cd ${n}`)),console.log(o.default.cyan("  npm install")),console.log(o.default.cyan("  npm run dev"))}catch(l){a.fail(o.default.red("Failed to clone template.")),console.error(l.message)}}else{let a=(0,c.default)(`Initializing project with ${o.default.cyan("tribo-kit-sdk")}...`).start();try{await p.default.ensureDir(r),await(0,s.execa)("npm",["init","-y"],{cwd:r}),await(0,s.execa)("npm",["install","tribo-kit-sdk"],{cwd:r}),a.succeed(o.default.green("SDK installed successfully!")),console.log(`
Next steps:`),console.log(o.default.cyan(`  cd ${n}`)),console.log(o.default.cyan("  Start building your Tribo app!"))}catch(l){a.fail(o.default.red("Failed to initialize project.")),console.error(l.message)}}console.log(o.default.bold.blue(`
Happy hacking! \u{1F499} Tribo
`))});u.parse();
